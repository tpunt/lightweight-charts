import{C as m}from"./closest-index-BUfzSX6X.js";import{e as d}from"./timestamp-data-Dz1yihFk.js";function f(r){for(const e of r){if(typeof e.close=="number")return"close";if(typeof e.value=="number")return"value"}return null}function S(r,e,t){const n=t.primarySource??f(r);if(!n)throw new Error("Please provide a `primarySource` for the primary data of the spread indicator.");const c=t.secondarySource??f(e);if(!c)throw new Error("Please provide a `secondarySource` for the secondary data of the spread indicator.");d(r);const l=new m(d(e));return r.map(o=>{const s={time:o.time},i=o[n];if(i===void 0)return s;const u=l.findClosestIndex(o.time,"left"),a=e[u][c];return a===void 0||!t.allowMismatchedDates&&e[u].time!==o.time?s:{time:o.time,value:i-a}})}export{S as c};
