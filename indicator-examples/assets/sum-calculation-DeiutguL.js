import{C as l}from"./closest-index-BUfzSX6X.js";import{e as m}from"./timestamp-data-Dz1yihFk.js";function d(r){for(const e of r){if(typeof e.close=="number")return"close";if(typeof e.value=="number")return"value"}return null}function S(r,e,t){const n=t.primarySource??d(r);if(!n)throw new Error("Please provide a `primarySource` for the primary data of the sum indicator.");const c=t.secondarySource??d(e);if(!c)throw new Error("Please provide a `secondarySource` for the secondary data of the sum indicator.");m(r);const f=new l(m(e));return r.map(o=>{const s={time:o.time},u=o[n];if(u===void 0)return s;const i=f.findClosestIndex(o.time,"left"),a=e[i][c];return a===void 0||!t.allowMismatchedDates&&e[i].time!==o.time?s:{time:o.time,value:u+a}})}export{S as c};
