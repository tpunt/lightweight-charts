import{C as m}from"./closest-index-BUfzSX6X.js";import{e as d}from"./timestamp-data-Dz1yihFk.js";function f(r){for(const e of r){if(typeof e.close=="number")return"close";if(typeof e.value=="number")return"value"}return null}function v(r,e,t){const n=t.primarySource??f(r);if(!n)throw new Error("Please provide a `primarySource` for the primary data of the ratio indicator.");const i=t.secondarySource??f(e);if(!i)throw new Error("Please provide a `secondarySource` for the secondary data of the ratio indicator.");d(r);const l=new m(d(e));return r.map(o=>{const c={time:o.time},s=o[n];if(s===void 0)return c;const u=l.findClosestIndex(o.time,"left"),a=e[u][i];return a===void 0||!t.allowMismatchedDates&&e[u].time!==o.time?c:{time:o.time,value:s/a}})}export{v as c};
