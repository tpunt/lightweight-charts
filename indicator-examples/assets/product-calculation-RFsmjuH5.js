import{C as m}from"./closest-index-BUfzSX6X.js";import{e as a}from"./timestamp-data-Dz1yihFk.js";function f(r){for(const e of r){if(typeof e.close=="number")return"close";if(typeof e.value=="number")return"value"}return null}function v(r,e,t){const n=t.primarySource??f(r);if(!n)throw new Error("Please provide a `primarySource` for the primary data of the product indicator.");const c=t.secondarySource??f(e);if(!c)throw new Error("Please provide a `secondarySource` for the secondary data of the product indicator.");a(r);const l=new m(a(e));return r.map(o=>{const u={time:o.time},i=o[n];if(i===void 0)return u;const s=l.findClosestIndex(o.time,"left"),d=e[s][c];return d===void 0||!t.allowMismatchedDates&&e[s].time!==o.time?u:{time:o.time,value:i*d}})}export{v as c};
